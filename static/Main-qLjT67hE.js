import{_ as D}from"./Card-E_UVsnIY.js";import{d as C,h as g,q as w,o as i,c as p,a,n as b,u as n,b as k,F as N,r as T,t as u,_ as j,l as z,e as m,m as v,f as y,g as x}from"./index-TE7jLlbu.js";import{_ as B}from"./SvgIcon.vue_vue_type_style_index_0_lang-drNrwqs7.js";import{c as I}from"./useComponent-YRgN1SV5.js";const F={class:"pagination"},L={key:0},M=["onClick"],O={key:1},q=C({__name:"Pagination",props:{total:{type:Number,default:10},pagesize:{type:Number,default:10}},emits:["change-page"],setup(c,{emit:f}){const _=f,d=c,e=g(1),s=w(()=>Math.ceil(d.total/d.pagesize)),l=w(()=>{const o=[];if(s.value<=5)for(let t=1;t<=s.value;t++)o.push(t);else if(e.value<=2)for(let t=1;t<=5;t++)o.push(t);else if(e.value>=3&&e.value<=s.value-2)for(let t=e.value-2;t<=e.value+2;t++)o.push(t);else if(e.value>s.value-2)for(let t=s.value-4;t<=s.value;t++)o.push(t);return o}),h=o=>{if(o===!1){if(e.value<=1)return;e.value-=1}else if(o===!0){if(e.value>=s.value)return;e.value+=1}else e.value=o;_("change-page",e.value)};return(o,t)=>(i(),p("div",F,[a("a",{href:"javascript:;",class:b({disabled:n(e)===1}),onClick:t[0]||(t[0]=r=>h(!1))},"上一页",2),n(e)>3?(i(),p("span",L,"...")):k("",!0),(i(!0),p(N,null,T(n(l),r=>(i(),p("a",{href:"javascript:;",key:r,class:b({active:n(e)===r}),onClick:$=>h(r)},u(r),11,M))),128)),n(e)<n(s)-2?(i(),p("span",O,"...")):k("",!0),a("a",{href:"javascript:;",class:b({disabled:n(e)===n(s)}),onClick:t[1]||(t[1]=r=>h(!0))},"下一页",2)]))}}),E=j(q,[["__scopeId","data-v-82f6845e"]]),K={class:"topic-item"},S=["src"],A={class:"topic-user-avatar-name"},G={class:"user-name"},H={class:"topic-time"},J={class:"topic-item-content"},Q={key:0,class:"put-top"},R={class:"topic-meta"},U={class:"topic-meta-other"},W={class:"topic-meta-item"},X={class:"topic-meta-item"},Y={class:"topic-meta-count"},Z=C({__name:"TopicItem",props:{item:{type:Object,default:{}}},setup(c){const _=I(c.item.create_time);return(d,e)=>{const s=z("router-link"),l=B;return i(),p("div",K,[m(s,{to:"/user",class:"topic-user-avatar"},{default:v(()=>[a("img",{class:"avatar",src:c.item.avatar,alt:""},null,8,S),a("span",A,[a("span",G,u(c.item.name),1),a("time",H,u(n(_)),1)])]),_:1}),a("div",J,[m(s,{to:"/detail",class:"topic-title"},{default:v(()=>[c.item.top?(i(),p("span",Q,"置顶")):k("",!0),y(" "+u(c.item.title),1)]),_:1}),a("div",R,[a("div",U,[a("a",W,u(c.item.type),1),a("time",X,u(n(_)),1)]),a("div",Y,[a("span",null,[m(l,{"icon-name":"eye"}),y(" 17537 ")]),a("span",null,[m(l,{"icon-name":"comment"}),y(" 78 ")])])])])])}}}),tt=j(Z,[["__scopeId","data-v-ea3c204b"]]),et={class:"main-extra"},it=C({__name:"Main",setup(c){const f=g([{key:"all",name:"全部"},{key:"ask",name:"问答"},{key:"idle",name:"闲置"}]),_=g("all");function d(l){_.value=l}const e=g([{id:1,title:"二手闲置笔记本，几乎全新，可小刀",create_time:1700617471,avatar:"/static/avatar.webp",name:"虫虫先生",top:!0,type:"闲置"},{id:2,title:"二手闲置笔记本，几乎全新，可小刀",create_time:1700617471,avatar:"/static/avatar.webp",name:"虫虫先生",top:!1,type:"闲置"},{id:2,title:"二手闲置笔记本，几乎全新，可小刀",create_time:1700617471,avatar:"/static/avatar.webp",name:"虫虫先生",top:!1,type:"闲置"},{id:2,title:"二手闲置笔记本，几乎全新，可小刀",create_time:1700617471,avatar:"/static/avatar.webp",name:"虫虫先生",top:!1,type:"闲置"},{id:2,title:"二手闲置笔记本，几乎全新，可小刀",create_time:1700617471,avatar:"/static/avatar.webp",name:"虫虫先生",top:!1,type:"闲置"},{id:2,title:"二手闲置笔记本，几乎全新，可小刀",create_time:1700617471,avatar:"/static/avatar.webp",name:"虫虫先生",top:!1,type:"闲置"},{id:2,title:"二手闲置笔记本，几乎全新，可小刀",create_time:1700617471,avatar:"/static/avatar.webp",name:"虫虫先生",top:!1,type:"闲置"},{id:2,title:"二手闲置笔记本，几乎全新，可小刀",create_time:1700617471,avatar:"/static/avatar.webp",name:"虫虫先生",top:!1,type:"闲置"}]),s=l=>{console.log(l)};return(l,h)=>{const o=B,t=z("router-link"),r=tt,$=E,P=D;return i(),x(P,{class:"wrap-card","tab-list":n(f),"active-tab-key":n(_),onOnTabChange:d},{extra:v(()=>[a("div",et,[m(t,{to:"/form"},{default:v(()=>[m(o,{"icon-name":"add"})]),_:1})])]),default:v(()=>[(i(!0),p(N,null,T(n(e),V=>(i(),x(r,{item:V},null,8,["item"]))),256)),m($,{total:100,pagesize:10,onChangePage:s})]),_:1},8,["tab-list","active-tab-key"])}}});export{it as default};
